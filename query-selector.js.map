{"version":3,"file":"query-selector.js","sources":["query-selector.ts"],"sourcesContent":[null],"names":["querySel","context","sel","qSel","trim","ret","curr","join","re","match","Error","JSON","stringify","substring","length","push","res","parseStep","next","p","parse","tagCheck","t","startsWith","undefined","id","i","c","Set","add","parseAttr","n","a","j","get","set","joinAttr","v","Map","Object","keys","nameCheck","op","vres","e","indexOf","m","parseNameOrString","va","includes","endsWith","spaceEq","haystack","needle","end","isMatch","node","branch","localName","getAttribute","cl","av","prev","previousSibling","mat","parentNode","cn","childNodes","nodeType","attr","inv","f"],"mappings":"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"}