{"version":3,"file":"query-selector.js","sources":["../query-selector.ts"],"sourcesContent":[null],"names":["parseStep","sel","ret","tagCheck","match","t","substring","length","startsWith","undefined","id","i","Error","JSON","stringify","c","Set","add","res","parseAttr","n","a","j","get","set","joinAttr","v","Map","Object","keys","nameCheck","op","vres","e","indexOf","m","parseNameOrString","va","includes","endsWith","spaceEq","haystack","needle","next","end","isMatch","context","node","branch","localName","getAttribute","cl","av","p","prev","previousSibling","mat","parentNode","qSel","cn","childNodes","nodeType","attr","inv","f","push","trim","curr","join","re","parse"],"mappings":"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"}