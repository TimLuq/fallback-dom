{"version":3,"file":"fallback-dom.js","sources":["../query-selector.ts","../fallback-dom.ts"],"sourcesContent":[null,null],"names":["querySel","context","sel","qSel","trim","ret","curr","join","re","match","Error","JSON","stringify","substring","length","push","res","parseStep","next","p","parse","tagCheck","t","startsWith","undefined","id","i","c","Set","add","parseAttr","n","a","j","get","set","joinAttr","v","Map","Object","keys","nameCheck","op","vres","e","indexOf","m","parseNameOrString","va","includes","endsWith","spaceEq","haystack","needle","end","isMatch","node","branch","localName","getAttribute","cl","av","prev","previousSibling","mat","parentNode","cn","childNodes","nodeType","attr","inv","f","symDefinedTag","Symbol","symCustomElements","symDocument","symTagName","symRegReg","symRegCon","symRegWhen","CustomElementRegistry","constructor","this","_a","_b","_c","define","name","reg","has","proto","prototype","Element","getPrototypeOf","con","when","delete","w","upgrade","root","tagName","cls","setPrototypeOf","call","whenDefined","Promise","resolve","ww","cons","DOMTokenList","split","combiner","accessor","setter","_d","_split","_accessor","_setter","_comb","_upd","r","d","_lastRead","clear","size","value","val","toString","tokens","s","test","Array","from","contains","token","remove","replace","newToken","toggle","force","forEach","thisArg","symParent","symPreviousSibling","symNextSibling","Node","_e","_f","_g","nextSibling","ownerDocument","cloneNode","deep","base","create","writable","tcont","symTextContent","defineProperty","tatt","symAttributes","symTarget","defineProperties","publicId","systemId","symChildNodes","insertBefore","unsafeSetParent","unsafeReplaceParent","removeChild","unsafeSetPrev","unsafeSetNext","symChildren","ParentNode","super","textContent","nodes","reduce","content","createTextNode","hasChildNodes","slice","childElementCount","children","firstElementChild","lastElementChild","l","firstChild","lastChild","append","TypeError","prepend","before","querySelector","selectors","querySelectorAll","replaceChildren","cbak","replaceChild","newChild","oldChild","child","nt","par","k","DocumentFragment","splice","appendChild","p1","getElementsByClassName","getElementsByTagName","tag","CharacterData","text","data","appendData","Text","CDATASection","ProcessingInstruction","target","Comment","Attr","specified","prefix","symClassList","setAttribute","classList","attributes","attrs","ownerElement","att","symElement","docInit","doc","DOMElement","_h","Document","customElements","cust","documentElement","createElement","createComment","createCDATASection","createProcessingInstruction","createDocumentFragment","getElementById","DocumentType","internalSubset","createDocumentType","qualifiedNameStr","DOMDocument","docTitle","HTMLDocument","body","head","html"],"mappings":"6BAUgB,SAAAA,EAA6BC,EAAmBC,GAC5D,OAAOC,EAAQF,EAWnB,SAAeC,GACXA,EAAMA,EAAIE,OACV,MAAMC,EAAM,GACZ,IAAIC,EAAoB,KACxB,EAAG,CACC,IAAIC,EAAO,GACX,GAAID,EAAM,CACN,MAAME,EAAKN,EAAIO,MAAM,uBACrB,IAAKD,EACD,MAAUE,MAAM,6BAA+BC,KAAKC,UAAUV,IAElEK,EAAOC,EAAG,GACVN,EAAMA,EAAIW,UAAUL,EAAG,GAAGM,QACd,KAARP,IACAF,EAAIU,KAAKT,GACTA,EAAO,KACPC,EAAO,IAGf,IAAKL,EACD,MAAUQ,MAAM,kDAEpB,MAAMM,EAAMC,EAAUf,GAChBgB,EAAOF,EAAI,GACbV,IACAY,EAAKC,EAAI,CAACZ,EAA+BD,IAE7CA,EAAOY,EACPhB,EAAMc,EAAI,SACNd,GAER,OADAG,EAAIU,KAAKT,GACFD,EA1CiBe,CAAMlB,IA6ClC,SAASe,EAAUf,GACf,MAAMG,EAAY,GAClB,CACI,MAAMgB,EAAWnB,EAAIO,MAAM,2BACvBY,GACAhB,EAAIiB,EAAID,EAAS,GACjBnB,EAAMA,EAAIW,UAAUQ,EAAS,GAAGP,SACzBZ,EAAIqB,WAAW,OACtBlB,EAAIiB,OAAIE,EACRtB,EAAMA,EAAIW,UAAU,IAG5B,KAAOX,GAAK,CACR,GAAIA,EAAIqB,WAAW,KAAM,CACrB,MAAMF,EAAWnB,EAAIO,MAAM,4BAC3B,GAAIY,EAAU,CACV,MAAMI,EAAKJ,EAAS,GAAGR,UAAU,GACjC,GAAIR,EAAIqB,GAAKrB,EAAIqB,GAAKD,EAClB,MAAUf,MAAM,kEAEpBL,EAAIqB,EAAID,EACRvB,EAAMA,EAAIW,UAAUQ,EAAS,GAAGP,QAChC,SAEJ,MAAUJ,MAAM,iBAAmBC,KAAKC,UAAUV,IAEtD,GAAIA,EAAIqB,WAAW,KAAM,CACrB,MAAMF,EAAWnB,EAAIO,MAAM,6BAC3B,GAAIY,EAAU,CACLhB,EAAIsB,IACLtB,EAAIsB,EAAI,IAAIC,KAEhBvB,EAAIsB,EAAEE,IAAIR,EAAS,GAAGR,UAAU,IAChCX,EAAMA,EAAIW,UAAUQ,EAAS,GAAGP,QAChC,SAEJ,MAAUJ,MAAM,oBAAsBC,KAAKC,UAAUV,IAEzD,GAAIA,EAAIqB,WAAW,KAAM,CAErB,MAAMP,EAAMc,EADZ5B,EAAMA,EAAIW,UAAU,IAEdkB,EAAIf,EAAI,GAAGe,EACjB,GAAI1B,EAAI2B,EAAG,CACP,MAAMC,EAAI5B,EAAI2B,EAAEE,IAAIH,GACpB1B,EAAI2B,EAAEG,IAAIJ,EAAGK,EAASH,EAAGjB,EAAI,GAAGqB,QAC7B,CACH,MAAML,EAAI,IAAIM,IACRD,EAAIrB,EAAI,GAAGqB,EACjBL,EAAEG,IAAIJ,OAASP,IAANa,EAAkB,KAAmB,iBAALA,EAAgBA,EAAI,CAACA,IAC9DhC,EAAI2B,EAAIA,EAGZ,IADA9B,EAAMc,EAAI,IACFO,WAAW,KAAM,CACrBrB,EAAMA,EAAIW,UAAU,GACpB,SAEJ,MAAUH,MAAM,+CAAiDC,KAAKC,UAAUV,KAGxF,GAAIqC,OAAOC,KAAKnC,GAAKS,OACjB,MAAO,CAACT,EAAKH,GAEjB,MAAUQ,MAAM,sBAAwBC,KAAKC,UAAUV,IAM3D,SAAS4B,EAAU5B,GACf,MAAMuC,EAAYvC,EAAIO,MAAM,4BAC5B,IAAKgC,EACD,MAAU/B,MAAM,kCAAoCC,KAAKC,UAAUV,IAEvE,MAAMG,EAAgB,CAAE0B,EAAGU,EAAU,IAErC,IAAIC,EAoBJ,IArBAxC,EAAMA,EAAIW,UAAU4B,EAAU,GAAG3B,SAEzBS,WAAW,MACfmB,EAAK,IACLxC,EAAMA,EAAIW,UAAU,IACbX,EAAIqB,WAAW,OACtBmB,EAAK,IACLxC,EAAMA,EAAIW,UAAU,IACbX,EAAIqB,WAAW,OACtBmB,EAAK,IACLxC,EAAMA,EAAIW,UAAU,IACbX,EAAIqB,WAAW,OACtBmB,EAAK,IACLxC,EAAMA,EAAIW,UAAU,IACbX,EAAIqB,WAAW,OACtBmB,EAAK,IACLxC,EAAMA,EAAIW,UAAU,IACbX,EAAIqB,WAAW,QACtBmB,EAAK,IACLxC,EAAMA,EAAIW,UAAU,IAEpB6B,EAAI,CACJ,MAAMC,EAqCd,SAA2BzC,GACvB,GAAIA,EAAIqB,WAAW,KAAO,CACtB,MAAMqB,EAAI1C,EAAI2C,QAAQ,IAAM,GAC5B,IAAU,GAAND,EACA,MAAO,CAAC1C,EAAIW,UAAU,EAAG+B,GAAI1C,EAAIW,UAAU+B,EAAI,IAEnD,MAAUlC,MAAM,uBAAyBC,KAAKC,UAAUV,IAE5D,MAAM4C,EAAI5C,EAAIO,MAAM,mBACpB,GAAIqC,EACA,MAAO,CAACA,EAAE,GAAI5C,EAAIW,UAAUiC,EAAE,GAAGhC,SAErC,MAAUJ,MAAM,+BAAiCC,KAAKC,UAAUV,IAjD/C6C,CAAkB7C,GAC/BA,EAAMyC,EAAK,GACX,MAAMK,EAAKL,EAAK,GACN,KAAND,EACArC,EAAIgC,EAAIW,EACK,KAANN,EACPrC,EAAIgC,EAAKA,GAAMA,EAAEY,SAASD,GACb,KAANN,EACPrC,EAAIgC,EAAKA,GAAMA,GAAKW,GAAMX,EAAEd,WAAWyB,EAAK,KAC/B,KAANN,EACPrC,EAAIgC,EAAKA,GAAMA,EAAEd,WAAWyB,GACf,KAANN,EACPrC,EAAIgC,EAAKA,GAAMA,EAAEa,SAASF,GACb,KAANN,IACPrC,EAAIgC,EAAKA,GAAMc,EAAQd,EAAGW,IAIlC,GAAI9C,EAAIqB,WAAW,KACf,MAAO,CAAClB,EAAKH,EAAIW,UAAU,IAE/B,MAAUH,MAAM,+CAAiDC,KAAKC,UAAUV,IAGpF,SAASiD,EAAQC,EAAkBC,GAC/B,IAAI3B,EAAI,EACR,KAAOA,GAAK0B,EAAStC,QAAQ,CACzB,MAAMI,EAAOkC,EAASP,QAAQ,IAAKnB,EAAI,GACjC4B,GAAe,GAATpC,EAAakC,EAAStC,OAASI,EAC3C,GAAKoC,EAAM5B,GAAM2B,EAAOvC,QAAUsC,EAASvC,UAAUa,EAAG4B,IAAQD,EAC5D,OAAO,EAEX3B,EAAI4B,EAER,OAAO,EAkBX,SAASC,EAAQtD,EAAmBQ,EAAe+C,GAC/CC,EAAQ,IAAK,MAAMX,KAAKrC,EACpB,IAAIqC,EAAExB,GAAKwB,EAAExB,GAAKkC,EAAKE,UAAvB,CAGA,GAAIZ,EAAEpB,EAAG,CACL,GAAgC,mBAArB8B,EAAKG,aACZ,SAASF,EAEb,MAAMG,EAAKJ,EAAKG,aAAa,MAC7B,IAAKC,GAAMA,GAAMd,EAAEpB,EACf,SAAS+B,EAGjB,GAAIX,EAAEnB,EAAG,CACL,GAAgC,mBAArB6B,EAAKG,aACZ,SAASF,EAEb,MAAMG,EAAKJ,EAAKG,aAAa,SAC7B,IAAKC,EACD,SAASH,EAEb,IAAK,MAAM9B,KAAKmB,EAAEnB,EACd,IAAKwB,EAAQS,EAAIjC,GACb,SAAS8B,EAIrB,GAAIX,EAAEd,EAAG,CACL,GAAgC,mBAArBwB,EAAKG,aACZ,SAASF,EAEb,IAAK,MAAOzB,EAAG6B,KAAOf,EAAEd,EAAG,CACvB,MAAM4B,EAAKJ,EAAKG,aAAa3B,GAC7B,IAAK4B,EACD,SAASH,EAEb,GAAiB,iBAANI,EAAgB,CACvB,GAAID,GAAMC,EACN,SAEJ,SAASJ,EAEb,GAAII,EACA,IAAK,MAAMlC,KAAKkC,EACZ,IAAKlC,EAAEiC,GACH,SAASH,GAM7B,GAAIX,EAAE3B,EAAG,CACL,MAAMuB,EAAKI,EAAE3B,EAAE,GACf,GAAU,KAANuB,EAAW,CACX,MAAMoB,EAAON,EAAKO,gBAClB,IAAKD,EACD,SAASL,EAEb,IAAKF,EAAQtD,EAAS,CAAC6C,EAAE3B,EAAE,IAAK2C,GAC5B,SAASL,OAEV,GAAU,KAANf,EAAW,CAClB,IAAIoB,EAAON,EAAKO,gBACZC,GAAM,EACV,MAAMhC,EAAI,CAACc,EAAE3B,EAAE,IACf,MAAQ6C,GAAOF,GACXE,EAAMT,EAAQtD,EAAS+B,EAAG8B,GAC1BA,EAAOA,EAAKC,gBAEhB,IAAKC,EACD,SAASP,OAEV,GAAU,KAANf,EAAW,CAClB,MAAMoB,EAAON,EAAKS,WAClB,IAAKH,EACD,SAASL,EAEb,IAAKF,EAAQtD,EAAS,CAAC6C,EAAE3B,EAAE,IAAK2C,GAC5B,SAASL,OAEV,GAAU,KAANf,EAAW,CAClB,IAAIoB,EAAON,EAAKS,WACZD,GAAM,EACV,MAAMhC,EAAI,CAACc,EAAE3B,EAAE,IACf,MAAQ6C,GAAOF,GACXE,EAAMT,EAAQtD,EAAS+B,EAAG8B,GAC1BA,EAAOA,EAAKG,WAEhB,IAAKD,EACD,SAASP,GAKrB,OAAO,EAEX,OAAO,EAGX,SAAUtD,EAAyBF,EAAmBQ,GAClD,MAAMyD,EAAKjE,EAAQkE,WACnB,GAAKD,EAGL,IAAK,MAAMvC,KAAKuC,EACM,GAAdvC,EAAEyC,WAGFb,EAAQtD,EAASQ,EAAOkB,WAClBA,SAEHxB,EAAKwB,EAAGlB,IAIvB,SAAS2B,EAASiC,EAA8DxC,GAC5E,QAAYL,IAARK,EACA,YAAgBL,IAAT6C,EAAqBA,EAAO,KAEvC,GAAkB,iBAAPxC,EAAiB,CACxB,GAAIwC,MAAAA,EACA,OAAOxC,EAEX,GAAmB,iBAARwC,GACP,GAAIA,GAAQxC,EACR,OAAOwC,MAER,CACH,IAAIC,GAAM,EACV,IAAK,MAAMC,KAAKF,EACPE,EAAE1C,KACHyC,GAAM,GAGd,IAAKA,EACD,OAAOzC,OAGZ,CAAA,GAAIwC,MAAAA,EACP,MAAO,CAACxC,GACL,GAAmB,iBAARwC,EAMd,OADAA,EAAKtD,KAAKc,GACHwC,EALP,GAAIxC,EAAIwC,GACJ,OAAOA,EAMf,MAAU3D,MAAM,0DC/VpB,MAAM8D,EAAgBC,OAAO,cACvBC,EAAoBD,OAAO,kBAC3BE,EAAcF,OAAO,YACrBG,EAAaH,OAAO,WAEpBI,EAAYJ,OAAO,OACnBK,EAAYL,OAAO,OACnBM,EAAaN,OAAO,QAC1B,MAAMO,sBAANC,cACaC,KAAAC,GAAc,IAAI7C,IAElB4C,KAAAE,GAAc,IAAI9C,IAClB4C,KAAAG,GAAe,IAAI/C,IAErBgD,OAAOC,EAAcN,GACxB,MAAMO,EAAMN,KAAKL,GACjB,GAAIW,EAAIC,IAAIF,GACR,MAAU7E,MAAM,WAAaC,KAAKC,UAAU2E,GAAQ,6BAExD,MAAMG,EAAQT,EAAYU,UAC1B,IAAI/C,EAAI8C,EACR,KAAO9C,GACCA,IAAMgD,QAAQD,WACd/C,EAAIL,OAAOsD,eAAejD,GAKlC,IAAKA,EACD,MAAUlC,MAAM,8BAAgCC,KAAKC,UAAU2E,GAAQ,0DAE3E,MAAMO,EAAMZ,KAAKJ,GACjB,GAAIc,SAAWX,GAAea,EAAIL,IAAIR,GAClC,MAAUvE,MAAM,4BAA8BC,KAAKC,UAAU2E,GAAQ,mBAEzEC,EAAIrD,IAAIoD,EAAMN,GACda,EAAI3D,IAAI8C,EAAaM,GACrBG,EAAMd,GAAcW,EAEpB,MAAMQ,EAAOb,KAAKH,GAAY7C,IAAIqD,GAClC,GAAIQ,EAAM,CACNb,KAAKH,GAAYiB,OAAOT,GACxB,IAAK,MAAMU,KAAKF,EACZE,EAAEhB,IAKPiB,QAAQC,GACX,MAAMX,EAAMN,KAAKL,GACXU,EAAOY,EAAKC,QACZC,EAAMb,EAAItD,IAAIqD,GACpB,IAAKc,EACD,OAEJ,MAAMvC,EAAOvB,OAAOsD,eAAeM,GACnC,GAAIrC,IAAS8B,QAAQD,UAGrB,IACIpD,OAAO+D,eAAeH,EAAME,EAAIV,WAChCU,EAAIE,KAAKJ,GACX,MAAOvD,GAEL,MADAL,OAAO+D,eAAeH,EAAMrC,GACtBlB,GAIP4D,YAAYjB,GACf,MAAMpE,EAAI+D,KAAKL,GAAW3C,IAAIqD,GAC9B,GAAIpE,EACA,OAAOsF,QAAQC,QAAQvF,GAE3B,IAAI8E,EAAIf,KAAKH,GAAY7C,IAAIqD,GACxBU,IACDA,EAAI,GACJf,KAAKH,GAAY5C,IAAIoD,EAAMU,IAE/B,MAAMU,EAAKV,EACX,OAAO,IAAIQ,SAASzF,GAAQ2F,EAAG5F,KAAKC,KAGjCkB,IAAIqD,GACP,OAAOL,KAAKL,GAAW3C,IAAIqD,GAKxB,EA/EGJ,EAAAN,IAEAC,EAASO,EACTN,EA4EFP,IAAeoC,GACnB,OAAO1B,KAAKJ,GAAW5C,IAAI0E,IAInC,MAAMC,aAUF5B,YAAmB6B,EAAeC,EAAkBC,EAA2CC,GAL9E/B,KAAAgC,GAAK,IAAItF,IAMtBsD,KAAKiC,OAASL,EACd5B,KAAKkC,UAAYJ,EACjB9B,KAAKmC,QAAUJ,EACf/B,KAAKoC,MAAQP,EAGTQ,OACJ,MAAMC,EAAItC,KAAKkC,YACTK,EAAIvC,KAAKgC,GACf,GAAIM,GAAKtC,KAAKwC,UACV,OAAOD,EAIX,GAFAvC,KAAKwC,UAAYF,EACjBC,EAAEE,SACGH,EACD,OAAOC,EAEX,IAAK,MAAM9F,KAAK6F,EAAEV,MAAM5B,KAAKiC,QACzBxF,GAAK8F,EAAE5F,IAAIF,GAEf,OAAO8F,EAGA3G,aAEP,OADUoE,KAAKqC,OACNK,KAGFC,YAEP,OADA3C,KAAKqC,OACErC,KAAKwC,WAAa,GAElBG,UAAMC,GACb5C,KAAKqC,OACLrC,KAAKmC,QAAQS,GAAO,IAEjBC,WAEH,OADA7C,KAAKqC,OACErC,KAAKwC,WAAa,GAEtB7F,OAAOmG,GACV,MAAMP,EAAIvC,KAAKqC,OACTU,EAAI/C,KAAKiC,OACf,IAAK,MAAM7F,KAAK0G,EACZ,GAAK1G,EAAL,CAGA,GAAI2G,EAAEC,KAAK5G,GACP,MAAUZ,MAAM,iBAEpB+G,EAAE5F,IAAIP,GAEV4D,KAAKmC,QAAQc,MAAMC,KAAKX,GAAGlH,KAAK2E,KAAKoC,QAElCe,SAASC,GAEZ,OADUpD,KAAKqC,OACN9B,IAAI6C,GAEVC,UAAUP,GACb,MAAMP,EAAIvC,KAAKqC,OACTU,EAAI/C,KAAKiC,OACf,IAAK,MAAM7F,KAAK0G,EACZ,GAAK1G,EAAL,CAGA,GAAI2G,EAAEC,KAAK5G,GACP,MAAUZ,MAAM,iBAEpB+G,EAAEzB,OAAO1E,GAEb4D,KAAKmC,QAAQc,MAAMC,KAAKX,GAAGlH,KAAK2E,KAAKoC,QAElCkB,QAAQF,EAAeG,GAC1B,MAAMhB,EAAIvC,KAAKqC,OACf,IAAKE,EAAEzB,OAAOsC,GACV,OAAO,EAEX,GAAIpD,KAAKiC,OAAOe,KAAKO,GACjB,MAAU/H,MAAM,iBAIpB,OAFA+G,EAAE5F,IAAI4G,GACNvD,KAAKmC,QAAQc,MAAMC,KAAKX,GAAGlH,KAAK2E,KAAKoC,SAC9B,EAEJoB,OAAOJ,EAAeK,GACzB,MAAMlB,EAAIvC,KAAKqC,OACf,IAAKoB,IACGlB,EAAEzB,OAAOsC,KAAoB,IAAVK,GACnB,OAAO,EAGf,GAAIzD,KAAKiC,OAAOe,KAAKI,GACjB,MAAU5H,MAAM,iBAIpB,OAFA+G,EAAE5F,IAAIyG,GACNpD,KAAKmC,QAAQc,MAAMC,KAAKX,GAAGlH,KAAK2E,KAAKoC,SAC9B,EAGJsB,QAAQrE,EAA+DsE,GAChE3D,KAAKqC,OACbqB,SAASvG,GAAMkC,EAAEgC,KAAKsC,EAASxG,GAAI,EAAG6C,SAIhD,MAAM4D,EAAYrE,OAAO,UACnBsE,EAAqBtE,OAAO,mBAC5BuE,EAAiBvE,OAAO,qBACRwE,KAsBlBhE,cACI,GAlBJC,KAAWgE,GAAsB,KACjChE,KAAoBiE,GAAgB,KACpCjE,KAAgBkE,GAAgB,UAgBF5H,IAAtB0D,KAAKP,GACL,MAAUjE,MAAM,wCAfbuD,iBACP,OAAOiB,KAAK4D,GAEL/E,sBACP,OAAOmB,KAAK6D,GAELM,kBACP,OAAOnE,KAAK8D,GAELM,oBACP,OAAOpE,KAAKP,GAST4E,UAAUC,GAAO,GACpB,MAAMC,EAA8B,GAAjBvE,KAAKd,UAAiBc,KAAKD,aAAeC,KAAKoE,eAAe1D,QAC3E,IAAKV,KAAKD,YACV1C,OAAOmH,OAAOnH,OAAOsD,eAAeX,MAAO,CACzCP,CAACA,GAAc,CAAEkD,MAAO3C,KAAKP,GAAcgF,UAAU,GACrDb,CAACA,GAAY,CAAEjB,MAAO,KAAM8B,UAAU,GACtCZ,CAACA,GAAqB,CAAElB,MAAO,KAAM8B,UAAU,GAC/CX,CAACA,GAAiB,CAAEnB,MAAO,KAAM8B,UAAU,KAGnD,CACI,MAAMC,EAAS1E,KAAsB2E,QACjB,IAATD,GACPrH,OAAOuH,eAAeL,EAAMI,EAAgB,CAAEhC,MAAO+B,EAAOD,UAAU,IAG9E,CACI,MAAMI,EAAQ7E,KAAyB8E,QACpB,IAARD,GACPxH,OAAOuH,eAAeL,EAAMO,EAAe,CAAEnC,MAAO,IAAIvF,IAAoByH,GAAOJ,UAAU,IAGrG,CACI,MAAMI,EAAQ7E,KAAyBN,GACjC6E,EAAiB7E,SAA8B,IAARmF,GACzCxH,OAAOuH,eAAeL,EAAM7E,EAAY,CAAEiD,MAAOkC,EAAMJ,UAAU,IAGzE,CACI,MAAMI,EAAQ7E,KAAuC+E,GAC/CR,EAA+BQ,SAA6B,IAARF,GACtDxH,OAAOuH,eAAeL,EAAMQ,EAAW,CAAEpC,MAAOkC,EAAMJ,UAAU,IAGxE,GAAqB,IAAjBzE,KAAKd,SAAgB,CACrB,MAAM9C,EAAI4D,KACV3C,OAAO2H,iBAAiBT,EAAM,CAC1BlE,KAAM,CAAEsC,MAAOvG,EAAEiE,KAAMoE,UAAU,GACjCQ,SAAU,CAAEtC,MAAOvG,EAAE6I,SAAUR,UAAU,GACzCS,SAAU,CAAEvC,MAAOvG,EAAE8I,SAAUT,UAAU,KAKjD,IAAKH,IAAUtE,KAAamF,GACxB,OAAOZ,EAEX,MAAMnI,EAAI4D,KAEV,IAAK,MAAMvD,KAAKL,EAAE+I,GACbZ,EAAoBa,aAAa3I,EAAE4H,WAAU,GAAO,MAEzD,OAAOE,EAGDc,gBAAgBtG,GACtBiB,KAAK4D,GAAa7E,EAEZuG,oBAAoBvG,GAC1B,MAAM9C,EAAI+D,KAAK4D,GACX3H,GACAA,EAAEsJ,YAAYvF,MAElBA,KAAK4D,GAAa7E,EAEZyG,cAAc3G,GACpBmB,KAAK6D,GAAsBhF,EACvBA,IACAA,EAAgBiF,GAAkB9D,MAGhCyF,cAActB,GACpBnE,KAAK8D,GAAkBK,EACnBA,IACAA,EAAYN,GAAsB7D,SAjGzC4D,EAASK,EACTJ,EAAkBK,EAClBJ,EAoGL,MAAMqB,EAAgB5F,OAAO,cACvBmG,EAAcnG,OAAO,YAC3B,MAAeoG,mBAAmB5B,KAsE9BhE,cACI6F,QAlEOC,kBACP,MAAMC,EAAQ9F,KAAKmF,GACnB,OAAOW,EACDA,EAAMC,QACJ,CAAC9J,EAAGa,KACA,MAAMV,EAAIU,EAAEoC,SACZ,OAAY,GAAL9C,GAAe,GAALA,GAAe,GAALA,EAASH,EAAIa,EAAE+I,YAAc5J,IAE5D,IAEF,GAEC4J,gBAAYG,GACnBA,EAAUA,EAAQnD,WAClB,MAAMiD,EAAQ9F,KAAKmF,GAAiB,GACpCnF,KAAK0F,GAAe,GAChBM,GAEAF,EAAMjK,KAAKmE,KAAKoE,cAAe6B,eAAeD,IAK/CE,gBACH,MAAMJ,EAAQ9F,KAAKmF,GACnB,QAASW,GAAyB,GAAhBA,EAAMlK,OAEjBqD,iBACP,MAAM6G,EAAQ9F,KAAKmF,GACnB,OAAOW,EAAQA,EAAMK,QAAU,GAGxBC,wBACP,MAAMN,EAAQ9F,KAAK0F,GACnB,OAAOI,EAAQA,EAAMlK,OAAS,EAEvByK,eACP,MAAMP,EAAQ9F,KAAK0F,GACnB,OAAOI,EAAQA,EAAMK,QAAU,GAExBG,wBAEP,OADctG,KAAK0F,KACJ,IAAM,KAEda,uBACP,MAAMT,EAAQ9F,KAAK0F,GACnB,IAAKI,EACD,OAAO,KAEX,MAAMU,EAAIV,EAAQA,EAAMlK,OAAS,EACjC,OAAQ4K,EAAWV,EAAMU,EAAI,GAAjB,KAELC,iBAEP,OADczG,KAAKmF,KACJ,IAAM,KAEduB,gBACP,MAAMjK,EAAIuD,KAAKmF,GACf,IAAK1I,EACD,OAAO,KAEX,MAAM+J,EAAI/J,EAAEb,OACZ,OAAQ4K,EAAW/J,EAAE+J,EAAI,GAAb,KAOTG,UAAUb,GACb,IAAK,MAAMjJ,KAAKiJ,EAAO,CAEnB,MAAMrJ,EAAgB,iBAALI,EAAgBmD,KAAKoE,cAAe6B,eAAepJ,GAClD,iBAALA,GAAiBA,aAAakH,KAAOlH,OAAIP,EACtD,QAAUA,IAANG,EAIJ,MAAM,IAAImK,UAAU,0BAHhB5G,KAAKoF,aAAa3I,EAAG,OAM1BoK,WAAWf,GAEd,IAAI7G,EAAae,KAAKmF,GACjBlG,IACDA,EAAa,GACbe,KAAKmF,GAAiBlG,GAE1B,MAAM6H,EAAS7H,EAAW,IAAM,KAChC,IAAK,MAAMpC,KAAKiJ,EAAO,CAEnB,MAAMrJ,EAAgB,iBAALI,EAAgBmD,KAAKoE,cAAe6B,eAAepJ,GAClD,iBAALA,GAAiBA,aAAakH,KAAOlH,OAAIP,EACtD,QAAUA,IAANG,EAIJ,MAAM,IAAImK,UAAU,0BAHhB5G,KAAKoF,aAAa3I,EAAGqK,IAO1BC,cAA2CC,GAE9C,OADWlM,EAAYkF,KAAMgH,GACnBhL,OAAO2G,OAAS,KAEvBsE,iBAA8CD,GACjD,OAAO/D,MAAMC,KAAKpI,EAAYkF,KAAMgH,IAGjCE,mBAAmBpB,GACtB,IAAI7G,EAAae,KAAKmF,GACtB,GAAKlG,GAGE,GAAIA,EAAWrD,OAAQ,CAC1B,IAAIyK,EAAWrG,KAAK0F,GACfW,EAIDA,EAASzK,OAAS,GAHlByK,EAAW,GACXrG,KAAK0F,GAAeW,GAIxB,MAAMc,EAAOlI,EAAWkH,QACxBlH,EAAWrD,OAAS,EACpB,IAAK,MAAMa,KAAK0K,EACX1K,EAAiB4I,gBAAgB,MACjC5I,EAAiB+I,cAAc,MAC/B/I,EAAiBgJ,cAAc,YAfpCxG,EAAa,GACbe,KAAKmF,GAAiBlG,EAiBtB6G,EAAMlK,QACNoE,KAAK2G,UAAUb,GAIhBsB,aAA6BC,EAAgBC,GAEhD,OADAtH,KAAKoF,aAAaiC,EAAUC,GACrBtH,KAAKuF,YAAY+B,GAGrBlC,aAA6BtI,EAAMyK,GACtC,GAAIzK,EAAEsH,eAAiBpE,KAAKoE,cAAe,CACvC,MAAMoD,EAAKxH,KAAKd,SAChB,GAAU,GAANsI,GAAiB,IAANA,EACX,MAAUhM,MAAM,2BAEpB,GAAIsB,EAAEsH,eAAkBpE,KAA8B,CAClD,GAAkB,IAAdlD,EAAEoC,UAAqC,MAAnBpC,EAAEsH,cAItB,MAAU5I,MAAM,uDAFfsB,EAAU2C,GAAeO,MAMtC,CACI,IAAIyH,EAAMzH,KACV,KAAOyH,GAAOA,GAAO3K,GACjB2K,EAAMA,EAAI1I,WAEd,GAAI0I,EACA,MAAUjM,MAAM,4CAGxB,GAAIsB,EAAEiC,YAAciB,KAAM,CACtB,GAAIuH,GAASzK,GAAKyK,GAASzK,EAAEqH,YACzB,OAAOrH,EAEXkD,KAAKuF,YAAYzI,GAErB,IAAImC,EAAae,KAAKmF,GACjBlG,IACDA,EAAa,GACbe,KAAKmF,GAAiBlG,GAE1B,IAAIoH,EAAWrG,KAAK0F,GACfW,IACDA,EAAW,GACXrG,KAAK0F,GAAeW,GAExB,IAAI7J,EAAIyC,EAAWrD,OACfmB,EAAIsJ,EAASzK,OACjB,GAAI2L,EAAO,CAEP,GADA/K,EAAIyC,EAAWtB,QAAQ4J,IACb,GAAN/K,EACA,MAAUhB,MAAM,wBAEpBuB,EAAI,EACJ,IAAK,IAAI2K,EAAIlL,EAAGkL,GAAK,EAAGA,IACpB,GAA8B,GAA1BzI,EAAWyI,GAAGxI,SAAe,CAC7BnC,EAAIsJ,EAAS1I,QAAQsB,EAAWyI,IAChC,OAIZ,GAAI5K,aAAa6K,iBAAkB,CAC/B,MAAM7B,EAAQhJ,EAAEqI,IAAgBgB,QAChC,GAAIL,GAASA,EAAMlK,OAAQ,CACvB,IAAK,MAAMa,KAAKqJ,EACXrJ,EAAiB4I,gBAAgBrF,MAChB,GAAdvD,EAAEyC,UACFmH,EAASuB,OAAO7K,IAAK,EAAGN,GAG/BqJ,EAAM,GAAkBN,cAAcvG,EAAWzC,EAAI,IAAM,MAC3DsJ,EAAMA,EAAMlK,OAAS,GAAkB6J,cAAcxG,EAAWzC,IAAM,MACvEyC,EAAW2I,OAAOpL,EAAG,KAAMsJ,GAE3BhJ,EAAEqI,GAAgBvJ,OAAS,EAC3BkB,EAAE4I,GAAe,SAGpB5I,EAAyBwI,oBAAoBtF,MAC7ClD,EAAyB0I,cAAcvG,EAAWzC,EAAI,IAAM,MAC5DM,EAAyB2I,cAAcxG,EAAWzC,IAAM,MACzDyC,EAAW2I,OAAOpL,EAAG,EAAGM,GACN,GAAdA,EAAEoC,UACFmH,EAASuB,OAAO7K,IAAK,EAAGD,GAGhC,OAAOA,EAEJ+K,YAA4B/K,GAC/B,OAAOkD,KAAKoF,aAAatI,EAAG,MAEzByI,YAA4BzI,GAC/B,CACI,MAAMmC,EAAae,KAAKmF,GAClBlJ,EAAIgD,EAAaA,EAAWtB,QAAQb,IAAM,EAChD,IAAKmC,IAAoB,GAANhD,EACf,OAAOa,EAGX,GADAmC,EAAW2I,OAAO3L,EAAG,GACH,GAAda,EAAEoC,SACF,OAAOpC,EAGf,CACI,MAAMuJ,EAAWrG,KAAK0F,GAChBoC,EAAKzB,EAAWA,EAAS1I,QAAQb,IAAyB,EAIhE,OAHIuJ,IAAmB,GAAPyB,GACZzB,EAASuB,OAAOE,EAAI,GAEjBhL,GAIRiL,uBAAuB5G,GAC1B,OAAOnB,KAAKiH,iBAAiB,IAAM9F,GAGhC6G,qBAAqBC,GACxB,OAAOjI,KAAKiH,iBAAiBgB,IAIrC,MAAMtD,EAAiBpF,OAAO,eACxB,MAAgB2I,sBAAsBnE,KAaxChE,YAAsBoI,GAClBvC,QACA5F,KAAK2E,GAAkBwD,EAAKtF,WAZrBuF,WACP,OAAOpI,KAAK2E,GAELyD,SAAKpC,GACZhG,KAAK2E,GAAkBqB,EAAQnD,WAExBjH,aACP,OAAOoE,KAAK2E,GAAgB/I,OAQzByM,WAAWD,GACdpI,KAAK2E,IAAmByD,EAAKvF,YAG/B,MAAOyF,aAAaJ,cAClBhJ,eACA,OAAO,EAGA2G,kBACP,OAAO7F,KAAK2E,GAELkB,gBAAYG,GACnBhG,KAAK2E,GAAkBqB,EAAQnD,WAGnC9C,YAAsBoI,GAClBvC,MAAMuC,IAIR,MAAOI,qBAAqBL,cAC1BhJ,eACA,OAAO,EAGA2G,kBACP,OAAO7F,KAAK2E,GAELkB,gBAAYG,GACnBhG,KAAK2E,GAAkBqB,EAAQnD,WAGnC9C,YAAsBoI,GAClBvC,MAAMuC,IAId,MAAMpD,EAAYxF,OAAO,UACnB,MAAOiJ,8BAA8BN,cAgBvCnI,YAAsB0I,EAAgBN,GAClCvC,MAAMuC,GACNnI,KAAK+E,GAAa0D,EAhBlBvJ,eACA,OAAO,EAGAuJ,aACP,OAAOzI,KAAK+E,GAELc,kBACP,OAAO7F,KAAK2E,GAELkB,gBAAYG,GACnBhG,KAAK2E,GAAkBqB,EAAQnD,YASjC,MAAO6F,gBAAgBR,cACrBhJ,eACA,OAAO,EAGA2G,kBACP,OAAO7F,KAAK2E,GAELkB,gBAAYG,GACnBhG,KAAK2E,GAAkBqB,EAAQnD,WAGnC9C,YAAsBoI,GAClBvC,MAAMuC,IAIR,MAAOR,yBAAyBhC,WACvBzG,eACP,OAAO,GAEXa,cACI6F,SAIR,MAAe+C,aAAa5E,KAIb6E,gBACP,OAAO,EAEAC,aACP,MAAMjL,EAAIoC,KAAKK,KAAK9E,MAAM,aAC1B,OAAOqC,EAAIA,EAAE,GAAK,KAEXY,gBACP,OAAOwB,KAAKK,KAAKiD,QAAQ,UAAW,KAI5C,MAAMwB,EAAgBvF,OAAO,cACvBuJ,EAAevJ,OAAO,aACtB,MAAgBmB,gBAAgBiF,WAkDlC5F,cAII,GAHA6F,SAEU5F,KAAKN,GAEX,MAAUlE,MAAM,6CAlDb0D,eACP,OAAO,EAEAgC,cACP,OAAOlB,KAAKN,GAELlB,gBACP,OAAOwB,KAAKN,GAAY4D,QAAQ,UAAW,IAGpC/G,SACP,OAAOyD,KAAKvB,aAAa,OAAS,GAE3BlC,OAAGA,GACVyD,KAAK+I,aAAa,KAAMxM,GAGjByM,gBACP,IAAItK,EAAKsB,KAAK8I,GAKd,OAJKpK,IACDA,EAAK,IAAIiD,aAAa,OAAQ,KAAK,IAAM3B,KAAKvB,aAAa,WAAWtB,GAAM6C,KAAK+I,aAAa,QAAS5L,KACvG6C,KAAK8I,GAAgBpK,GAElBA,EAGAuK,iBACP,MAAM9N,EAAc,GACd+N,EAAQlJ,KAAK8E,GACnB,IAAKoE,EACD,OAAO/N,EAEX,IAAK,MAAOuM,EAAGvK,KAAM+L,EAAO,CACxB,MAAM/J,EAAO9B,OAAOmH,OAAOmE,KAAKlI,UAAW,CACvChB,CAACA,GAAc,CAAEkD,MAAO3C,KAAKoE,cAAeK,UAAU,GACtD0E,aAAc,CAAExG,MAAO3C,KAAMyE,UAAU,GACvCpE,KAAM,CAAEsC,MAAO+E,EAAGjD,UAAU,GAC5B9B,MAAO,CAAEA,MAAOxF,EAAGsH,UAAU,KAGjCtJ,EAAIU,KAAKsD,GAEb,OAAOhE,EAYJsD,aAAa2K,GAChB,MAAMF,EAAQlJ,KAAK8E,GACbxC,EAAI4G,EAAQA,EAAMlM,IAAIoM,GAAO,KACnC,YAAa9M,IAANgG,EAAkB,KAAOA,EAE7ByG,aAAaK,EAAaxG,GAC7B,IAAIsG,EAAQlJ,KAAK8E,GACZoE,IACDA,EAAQ,IAAI9L,IACZ4C,KAAK8E,GAAiBoE,GAE1BA,EAAMjM,IAAImM,EAAKxG,GAEZS,SACH,MAAMpH,EAAI+D,KAAKjB,WACf9C,GAAKA,EAAEsJ,YAAYvF,OAI3B,MAAMqJ,EAAa9J,OAAO,WAE1B,SAAS+J,EAAQC,WAcb,OAbAA,EAAIF,MAAc,MAAMG,mBAAmB9I,QAEvCX,cACI6F,QAFK5F,KAAayJ,GAAGF,MAAf9J,KAMdpC,OAAO2H,iBAAiBuE,EAAIF,GAAY5I,UAAW,CAC/ChB,CAACA,GAAc,CAAEkD,MAAO4G,EAAK9E,UAAU,GACvCb,CAACA,GAAY,CAAEjB,MAAO,KAAM8B,UAAU,GACtCZ,CAACA,GAAqB,CAAElB,MAAO,KAAM8B,UAAU,GAC/CX,CAACA,GAAiB,CAAEnB,MAAO,KAAM8B,UAAU,KAExC8E,EAGL,MAAgBG,iBAAiB/D,WAwBnC5F,cACI6F,QArBOlF,cACP,OAAOV,KAAKqJ,GAGLM,qBACP,IAAIC,EAAO5J,KAAKR,GAIhB,OAHKoK,IACD5J,KAAKR,GAAqBoK,EAAO,IAAI9J,uBAElC8J,EAGA1K,eACP,OAAO,EAGA2K,sBACP,OAAO7J,KAAKsG,kBAOTwD,cAAc5I,GACjB,MAAMQ,EAAO1B,KAAKR,IAAoBxC,IAAIkE,GAC1C,OAAIQ,EACO,IAAIA,EAERrE,OAAOmH,OAAOxE,KAAKqJ,GAAY5I,UAAW,CAC7Cf,CAACA,GAAa,CAAEiD,MAAOzB,EAASuD,UAAU,KAG3CwB,eAAekC,GAClB,OAAO9K,OAAOmH,OAAO8D,KAAK7H,UAAW,CACjChB,CAACA,GAAc,CAAEkD,MAAO3C,KAAMyE,UAAU,GACxCb,CAACA,GAAY,CAAEjB,MAAO,KAAM8B,UAAU,GACtCZ,CAACA,GAAqB,CAAElB,MAAO,KAAM8B,UAAU,GAC/CX,CAACA,GAAiB,CAAEnB,MAAO,KAAM8B,UAAU,GAC3CE,CAACA,GAAiB,CAAEhC,MAAOwF,EAAKtF,WAAY4B,UAAU,KAGvDsF,cAAc3B,GACjB,OAAO/K,OAAOmH,OAAOkE,QAAQjI,UAAW,CACpChB,CAACA,GAAc,CAAEkD,MAAO3C,KAAMyE,UAAU,GACxCb,CAACA,GAAY,CAAEjB,MAAO,KAAM8B,UAAU,GACtCZ,CAACA,GAAqB,CAAElB,MAAO,KAAM8B,UAAU,GAC/CX,CAACA,GAAiB,CAAEnB,MAAO,KAAM8B,UAAU,GAC3CE,CAACA,GAAiB,CAAEhC,MAAOyF,EAAKvF,WAAY4B,UAAU,KAGvDuF,mBAAmB5B,GACtB,OAAO/K,OAAOmH,OAAO+D,aAAa9H,UAAW,CACzChB,CAACA,GAAc,CAAEkD,MAAO3C,KAAMyE,UAAU,GACxCb,CAACA,GAAY,CAAEjB,MAAO,KAAM8B,UAAU,GACtCZ,CAACA,GAAqB,CAAElB,MAAO,KAAM8B,UAAU,GAC/CX,CAACA,GAAiB,CAAEnB,MAAO,KAAM8B,UAAU,GAC3CE,CAACA,GAAiB,CAAEhC,MAAOyF,EAAKvF,WAAY4B,UAAU,KAGvDwF,4BAA4BxB,EAAgBL,GAC/C,OAAO/K,OAAOmH,OAAOgE,sBAAsB/H,UAAW,CAClDhB,CAACA,GAAc,CAAEkD,MAAO3C,KAAMyE,UAAU,GACxCb,CAACA,GAAY,CAAEjB,MAAO,KAAM8B,UAAU,GACtCZ,CAACA,GAAqB,CAAElB,MAAO,KAAM8B,UAAU,GAC/CX,CAACA,GAAiB,CAAEnB,MAAO,KAAM8B,UAAU,GAC3CM,CAACA,GAAY,CAAEpC,MAAO8F,EAAO5F,WAAY4B,UAAU,GACnDE,CAACA,GAAiB,CAAEhC,MAAOyF,EAAKvF,WAAY4B,UAAU,KAGvDyF,yBACH,OAAO7M,OAAOmH,OAAOmD,iBAAiBlH,UAAW,CAC7ChB,CAACA,GAAc,CAAEkD,MAAO3C,KAAMyE,UAAU,GACxCb,CAACA,GAAY,CAAEjB,MAAO,KAAM8B,UAAU,GACtCZ,CAACA,GAAqB,CAAElB,MAAO,KAAM8B,UAAU,GAC/CX,CAACA,GAAiB,CAAEnB,MAAO,KAAM8B,UAAU,KAI5C0F,eAAe5N,GAClB,OAAOyD,KAAK+G,cAAc,IAAMxK,IA0DlC,MAAO6N,qBAAqBrG,KAgB9BhE,cAEI,MADA6F,QACUpK,MAAM,sCAjBT0D,eACP,OAAO,GAEAmL,qBACP,OAAO,KAGAxE,gBAAYG,IACZH,kBACP,OAAO,MAWT,SAAUyE,EAAmBC,EAA0BtF,EAAW,GAAIC,EAAW,IACnF,OAAO7H,OAAOmH,OAAO4F,aAAa3J,UAAW,CACzChB,CAACA,GAAc,CAAEkD,MAAO,KAAM8B,UAAU,GACxCpE,KAAM,CAAEsC,MAAO4H,EAAkB9F,UAAU,GAC3CQ,SAAU,CAAEtC,MAAOsC,EAAUR,UAAU,GACvCS,SAAU,CAAEvC,MAAOuC,EAAUT,UAAU,GACvCb,CAACA,GAAY,CAAEjB,MAAO,KAAM8B,UAAU,GACtCZ,CAACA,GAAqB,CAAElB,MAAO,KAAM8B,UAAU,GAC/CX,CAACA,GAAiB,CAAEnB,MAAO,KAAM8B,UAAU,yRA7E/C,OAAO6E,EAAQjM,OAAOmH,OALtB,MAAMgG,oBAAoBd,SACtB3J,cACI6F,UAGiCnF,UAAW,CAAEhB,CAACA,GAAc,CAAEkD,MAAO,sDAGlE,SAAmB8H,EAAW,IAwB1C,MAAMlB,EAAMlM,OAAOmH,OAvBnB,MAAMkG,qBAAqBhB,SACZiB,WAEP,IAAK,MAAMlO,KAAKuD,KAAK6J,gBAAiBxD,SAClC,GAAmB,QAAf5J,EAAE+B,UACF,OAAO/B,EAGf,OAAO,KAEAmO,WAEP,IAAK,MAAMnO,KAAKuD,KAAK6J,gBAAiBxD,SAClC,GAAmB,QAAf5J,EAAE+B,UACF,OAAO/B,EAGf,OAAO,KAEXsD,cACI6F,UAG+BnF,WAEtC8I,EAAY9J,GAAe,KAC5B6J,EAAQC,GACRlM,OAAOuH,eAAe2E,EAAI7I,QAAQD,UAAW,YAAa,CACtDzD,MAAQ,OAAOgD,KAAKvB,aAAa,UAAY,IAC7CxB,IAAIkE,GAAenB,KAAK+I,aAAa,QAAS5H,EAAIjG,WAEtD,CACIqO,EAAI1B,YAAYyC,EAAmB,SACnC,MAAMO,EAAOtB,EAAIO,cAAc,QAClBe,EAAKhD,YAAY0B,EAAIO,cAAc,SAC7BjC,YAAY0B,EAAIO,cAAc,UAC3CjE,YAAc4E,EACpBI,EAAKhD,YAAY0B,EAAIO,cAAc,SACnCP,EAAI1B,YAAYgD,GAEpB,OAAOtB"}